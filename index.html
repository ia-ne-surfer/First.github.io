<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">

  <style>
    body {
  margin: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  font-family: Arial, Helvetica, sans-serif;

  /* –ø–µ—Ä—Å–∏–∫–æ–≤—ã–π —Ñ–æ–Ω + —Å–µ—Ç–∫–∞ 40px */
  background-color: #f6b89e;
  background-image:
    linear-gradient(to right, rgba(0,0,0,0.25) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0,0,0,0.25) 1px, transparent 1px);
  background-size: 40px 40px;
  background-position: 0 0;
}
.word {
  position: absolute;
  font-size: 40px;
  color: #2b2b2b;

  text-shadow:
    0 6px 12px rgba(0,0,0,0.35),
    0 20px 40px rgba(0,0,0,0.25),
    0 80px 160px rgba(0,0,0,0.15);


  --dx: 0px;
  --dy: 0px;
  --rot: 0deg;
  --dur: 6s;

  animation: none;
}

@keyframes drift {
  0% {
    transform: translate(0, 0) rotate(0deg);
  }
  50% {
    transform: translate(var(--dx), var(--dy)) rotate(var(--rot));
  }
  100% {
    transform: translate(0, 0) rotate(0deg);
  }
}
    
  </style>
</head>

<body>
  <div id="container"></div>
<script>
  const container = document.getElementById('container');
  const MAX_SPEED = 6;
  container.innerHTML = '';

  let mouseX = -1000;
  let mouseY = -1000;

  document.addEventListener('mousemove', (e) => {
    mouseX = e.clientX;
    mouseY = e.clientY;
  });

  const COUNT = 12;
  const cols = Math.ceil(Math.sqrt(COUNT));
  const rows = Math.ceil(COUNT / cols);

  const cellWidth  = window.innerWidth  / cols;
  const cellHeight = window.innerHeight / rows;

  for (let i = 0; i < COUNT; i++) {
    const el = document.createElement('div');
    el.className = 'word';
    el.textContent = 'HelloWorld';
   container.appendChild(el);
// –±–∞–∑–æ–≤–æ–µ ¬´–¥—ã—Ö–∞–Ω–∏–µ¬ª
el.baseVX = (Math.random() - 0.5) * 0.6;
el.baseVY = (Math.random() - 0.5) * 0.6;
// üîπ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ —è—á–µ–π–∫–∏
el.px = 0;
el.py = 0;

// üîπ –Ω–∞—á–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
el.vx = (Math.random() - 0.5) * 2;
el.vy = (Math.random() - 0.5) * 2;

// üîπ –∫—É–ª–¥–∞—É–Ω —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –º—ã—à—å
el.cooldown = 0;
    const rect = el.getBoundingClientRect();

    const col = i % cols;
    const row = Math.floor(i / cols);

    const jitter = 80;

    const x = col * cellWidth  + (cellWidth  - rect.width)  / 2 + (Math.random() - 0.5) * jitter;
    const y = row * cellHeight + (cellHeight - rect.height) / 2 + (Math.random() - 0.5) * jitter;

    el.style.left = x + 'px';
    el.style.top  = y + 'px';

    // ‚úÖ –°–û–•–†–ê–ù–Ø–ï–ú –ë–ê–ó–û–í–£–Æ –ü–û–ó–ò–¶–ò–Æ –ü–û–°–õ–ï –†–ê–°–ß–Å–¢–ê
    el.dataset.x = x;
    el.dataset.y = y;
    
  }

function update() {
  const now = performance.now();

  document.querySelectorAll('.word').forEach(el => {
    const baseX = parseFloat(el.dataset.x);
    const baseY = parseFloat(el.dataset.y);

    const rect = el.getBoundingClientRect();
    const halfW = (cellWidth  - rect.width)  / 2;
    const halfH = (cellHeight - rect.height) / 2;

    /* ---------- 1. –°–í–û–ë–û–î–ù–û–ï –î–í–ò–ñ–ï–ù–ò–ï ---------- */
    el.px += el.vx;
    el.py += el.vy;

    /* ---------- 2. –°–¢–û–õ–ö–ù–û–í–ï–ù–ò–Ø –°–û –°–¢–ï–ù–ö–ê–ú–ò ---------- */
    if (el.px >  halfW) { el.px =  halfW; el.vx *= -1; }
    if (el.px < -halfW) { el.px = -halfW; el.vx *= -1; }
    if (el.py >  halfH) { el.py =  halfH; el.vy *= -1; }
    if (el.py < -halfH) { el.py = -halfH; el.vy *= -1; }

    /* ---------- 3. –°–¢–û–õ–ö–ù–û–í–ï–ù–ò–ï –° –ú–´–®–¨–Æ ---------- */
    if (now > el.cooldown) {
      const cx = baseX + el.px + rect.width  / 2;
      const cy = baseY + el.py + rect.height / 2;

      const dx = cx - mouseX;
      const dy = cy - mouseY;
      const dist = Math.hypot(dx, dy);

      const hitRadius = Math.max(rect.width, rect.height) * 0.7;

      if (dist < hitRadius) {
        const angle = Math.atan2(dy, dx);
        const force = (hitRadius - dist) * 0.4;

        el.vx += Math.cos(angle) * force;
        el.vy += Math.sin(angle) * force;

        el.cooldown = now + 1000;
      }
    }

    /* ---------- 4. –ó–ê–¢–£–•–ê–ù–ò–ï —Å –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º ---------- */
    el.vx += (el.baseVX - el.vx) * 0.02;
    el.vy += (el.baseVY - el.vy) * 0.02;
    const speed = Math.hypot(el.vx, el.vy);

if (speed > MAX_SPEED) {
  const scale = MAX_SPEED / speed;
  el.vx *= scale;
  el.vy *= scale;
}

    /* ---------- 5. –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–û–ó–ò–¶–ò–Ø ---------- */
    el.style.transform =
      `translate(${el.px}px, ${el.py}px)`;
      const lift = Math.min(1, Math.hypot(el.vx, el.vy) / 5);

el.style.textShadow = `
  0 ${4 + lift * 6}px ${8 + lift * 12}px rgba(0,0,0,0.25),
  0 ${16 + lift * 20}px ${32 + lift * 40}px rgba(0,0,0,0.15)
`;
  });

  requestAnimationFrame(update);
}

update();
</script>

</body>
</html>
